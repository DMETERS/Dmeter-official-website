---
import { type Lang, defaultLang, useTranslations } from '../i18n/utils';

interface Props {
  lang?: Lang;
}

const { lang = defaultLang } = Astro.props;
const t = useTranslations(lang);
---

<section class="relative min-h-screen flex items-center pt-20 overflow-hidden">
  <!-- ═══════════════════════════════════════════════════════════════
       BACKGROUND SOLARPUNK - El ecosistema digital
       ═══════════════════════════════════════════════════════════════ -->
  <div class="absolute inset-0 overflow-hidden pointer-events-none">

    <!-- Orbes de energía solar - como soles en el horizonte -->
    <div class="orb-solar orb-solar-green w-[500px] h-[500px] top-0 -left-48 animate-breathe"></div>
    <div class="orb-solar orb-solar-gold w-[400px] h-[400px] top-20 right-0 animate-breathe" style="animation-delay: 1.5s;"></div>
    <div class="orb-solar orb-solar-cyan w-[600px] h-[600px] bottom-0 left-1/3 animate-breathe" style="animation-delay: 0.8s;"></div>

    <!-- Grid orgánico de fondo -->
    <div class="absolute inset-0 bg-grid-organic opacity-60"></div>

    <!-- Puntos como semillas dispersas -->
    <div class="absolute inset-0 bg-dots-seeds opacity-30"></div>

    <!-- Gradiente de horizonte forestal -->
    <div class="absolute bottom-0 left-0 right-0 h-64 bg-gradient-to-t from-bg-dark via-bg-dark/80 to-transparent"></div>

    <!-- SVG Decorativo: Hojas flotantes -->
    <svg class="absolute top-32 left-10 w-16 h-16 text-primary/20 animate-sway" viewBox="0 0 100 100" fill="currentColor">
      <path d="M50 5 C20 25, 5 50, 15 75 C25 60, 40 50, 50 45 C60 50, 75 60, 85 75 C95 50, 80 25, 50 5 Z"/>
    </svg>

    <svg class="absolute top-48 right-20 w-12 h-12 text-green-sprout/30 animate-sway" style="animation-delay: 2s;" viewBox="0 0 100 100" fill="currentColor">
      <path d="M50 5 C20 25, 5 50, 15 75 C25 60, 40 50, 50 45 C60 50, 75 60, 85 75 C95 50, 80 25, 50 5 Z"/>
    </svg>

    <svg class="absolute bottom-40 left-20 w-10 h-10 text-accent-cyan/20 animate-sway" style="animation-delay: 3s;" viewBox="0 0 100 100" fill="currentColor">
      <path d="M50 5 C20 25, 5 50, 15 75 C25 60, 40 50, 50 45 C60 50, 75 60, 85 75 C95 50, 80 25, 50 5 Z"/>
    </svg>

    <!-- Luciérnagas / Partículas de energía -->
    <div class="absolute top-1/4 left-1/4 w-2 h-2 bg-solar-gold rounded-full animate-firefly"></div>
    <div class="absolute top-1/3 right-1/3 w-1.5 h-1.5 bg-primary rounded-full animate-firefly" style="animation-delay: 1s;"></div>
    <div class="absolute bottom-1/3 left-1/3 w-2 h-2 bg-accent-cyan rounded-full animate-firefly" style="animation-delay: 2s;"></div>
    <div class="absolute top-1/2 right-1/4 w-1 h-1 bg-green-lime rounded-full animate-firefly" style="animation-delay: 0.5s;"></div>
    <div class="absolute bottom-1/4 right-1/2 w-1.5 h-1.5 bg-solar-gold rounded-full animate-firefly" style="animation-delay: 1.5s;"></div>
  </div>

  <!-- ═══════════════════════════════════════════════════════════════
       CONTENIDO PRINCIPAL
       ═══════════════════════════════════════════════════════════════ -->
  <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 md:py-32">
    <div class="grid lg:grid-cols-2 gap-12 lg:gap-20 items-center">

      <!-- Texto con alma -->
      <div class="text-center lg:text-left animate-sprout">
        <h1 class="text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-bold leading-tight tracking-tight">
          <span class="text-text-light">{t.hero.title}</span>
          <span class="gradient-text block mt-3">
            {t.hero.titleHighlight}
          </span>
          <span class="text-text-light block mt-3">{t.hero.titleEnd}</span>
        </h1>

        <p class="mt-8 text-lg sm:text-xl text-text-muted max-w-xl mx-auto lg:mx-0 leading-relaxed">
          {t.hero.subtitle}
        </p>

        <!-- Botones que florecen -->
        <div class="mt-12 flex flex-col sm:flex-row gap-5 justify-center lg:justify-start">
          <a
            href="#contact"
            class="btn-bloom text-white text-lg inline-flex items-center justify-center gap-3 group"
          >
            <span>{t.hero.cta}</span>
            <svg class="w-5 h-5 transition-transform group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
            </svg>
          </a>
          <a
            href="#services"
            class="btn-outline-organic text-lg inline-flex items-center justify-center gap-2 group"
          >
            <span>{t.hero.ctaSecondary}</span>
            <svg class="w-5 h-5 transition-transform group-hover:translate-y-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
            </svg>
          </a>
        </div>

        <!-- Indicadores de confianza / Stats -->
        <div class="mt-12 pt-8 border-t border-primary/10">
          <div class="flex flex-wrap gap-6 justify-center lg:justify-start">
            <div class="text-center lg:text-left">
              <div class="text-3xl font-bold gradient-text-static">50+</div>
              <div class="text-text-dim text-sm mt-1">{t.hero?.stats?.projects || 'Proyectos'}</div>
            </div>
            <div class="text-center lg:text-left">
              <div class="text-3xl font-bold gradient-text-static">6</div>
              <div class="text-text-dim text-sm mt-1">{t.hero?.stats?.industries || 'Industrias'}</div>
            </div>
            <div class="text-center lg:text-left">
              <div class="text-3xl font-bold gradient-text-static">2000+</div>
              <div class="text-text-dim text-sm mt-1">{t.hero?.stats?.users || 'Usuarios'}</div>
            </div>
            <div class="text-center lg:text-left">
              <div class="text-3xl font-bold gradient-text-static">100%</div>
              <div class="text-text-dim text-sm mt-1">{t.hero?.stats?.commitment || 'Compromiso'}</div>
            </div>
          </div>
        </div>
      </div>

      <!-- ═══════════════════════════════════════════════════════════════
           ILUSTRACIÓN SOLARPUNK - Ciudad verde futurista
           ═══════════════════════════════════════════════════════════════ -->
      <div class="relative hidden lg:block">
        <div class="relative w-full aspect-square max-w-xl mx-auto">

          <!-- Ilustración: Robot Humanoide Futurista estilo Tesla Optimus -->
          <svg id="robot-svg" class="w-full h-full" viewBox="0 0 500 500" fill="none" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <!-- Gradientes para el robot -->
              <linearGradient id="metal-body" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" stop-color="#1F2937"/>
                <stop offset="50%" stop-color="#374151"/>
                <stop offset="100%" stop-color="#1F2937"/>
              </linearGradient>
              <linearGradient id="metal-light" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%" stop-color="#4B5563"/>
                <stop offset="50%" stop-color="#6B7280"/>
                <stop offset="100%" stop-color="#4B5563"/>
              </linearGradient>
              <linearGradient id="metal-dark" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" stop-color="#111827"/>
                <stop offset="100%" stop-color="#1F2937"/>
              </linearGradient>
              <linearGradient id="accent-cyan" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" stop-color="#06B6D4"/>
                <stop offset="100%" stop-color="#0891B2"/>
              </linearGradient>
              <linearGradient id="accent-green" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" stop-color="#10B981"/>
                <stop offset="100%" stop-color="#059669"/>
              </linearGradient>
              <linearGradient id="visor-glow" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%" stop-color="#06B6D4" stop-opacity="0.3"/>
                <stop offset="50%" stop-color="#10B981"/>
                <stop offset="100%" stop-color="#06B6D4" stop-opacity="0.3"/>
              </linearGradient>
              <radialGradient id="core-glow" cx="50%" cy="50%" r="50%">
                <stop offset="0%" stop-color="#10B981"/>
                <stop offset="70%" stop-color="#10B981" stop-opacity="0.3"/>
                <stop offset="100%" stop-color="#10B981" stop-opacity="0"/>
              </radialGradient>
              <radialGradient id="eye-glow" cx="50%" cy="50%" r="50%">
                <stop offset="0%" stop-color="#06B6D4"/>
                <stop offset="100%" stop-color="#06B6D4" stop-opacity="0"/>
              </radialGradient>

              <!-- Filtros -->
              <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
                <feGaussianBlur stdDeviation="3" result="blur"/>
                <feMerge>
                  <feMergeNode in="blur"/>
                  <feMergeNode in="SourceGraphic"/>
                </feMerge>
              </filter>
              <filter id="soft-glow" x="-50%" y="-50%" width="200%" height="200%">
                <feGaussianBlur stdDeviation="6" result="blur"/>
                <feMerge>
                  <feMergeNode in="blur"/>
                  <feMergeNode in="SourceGraphic"/>
                </feMerge>
              </filter>
            </defs>

            <!-- ═══════════════════════════════════════════════════════════
                 ROBOT HUMANOIDE - CUERPO COMPLETO
                 ═══════════════════════════════════════════════════════════ -->

            <!-- CABEZA -->
            <g class="animate-float" style="animation-delay: 0.1s;">
              <g id="robot-head" style="transform-origin: 250px 72px;">
              <!-- Cráneo principal - forma ovalada elegante -->
              <ellipse cx="250" cy="72" rx="42" ry="52" fill="url(#metal-body)"/>

              <!-- Panel frontal de la cara -->
              <path d="M215 55 Q250 45 285 55 L282 95 Q250 105 218 95 Z" fill="url(#metal-light)"/>

              <!-- Visor/Pantalla facial - línea horizontal iluminada -->
              <rect x="218" y="65" width="64" height="12" rx="6" fill="url(#metal-dark)"/>
              <rect x="222" y="68" width="56" height="6" rx="3" fill="url(#visor-glow)" filter="url(#glow)" class="animate-breathe"/>

              <!-- Ojos LED -->
              <circle cx="235" cy="71" r="3" fill="#06B6D4" filter="url(#glow)" class="animate-firefly"/>
              <circle cx="265" cy="71" r="3" fill="#06B6D4" filter="url(#glow)" class="animate-firefly" style="animation-delay: 0.3s;"/>

              <!-- Detalles laterales de la cabeza -->
              <rect x="207" y="60" width="4" height="25" rx="2" fill="url(#metal-dark)"/>
              <rect x="289" y="60" width="4" height="25" rx="2" fill="url(#metal-dark)"/>

              <!-- Antena/Sensor superior -->
              <rect x="248" y="18" width="4" height="12" rx="2" fill="url(#metal-light)"/>
              <circle cx="250" cy="15" r="5" fill="url(#accent-cyan)" filter="url(#glow)" class="animate-breathe"/>
              </g>
            </g>

            <!-- CUELLO -->
            <g>
              <!-- Estructura del cuello - segmentos articulados -->
              <rect x="235" y="120" width="30" height="8" rx="2" fill="url(#metal-dark)"/>
              <rect x="238" y="130" width="24" height="6" rx="2" fill="url(#metal-body)"/>
              <rect x="240" y="138" width="20" height="5" rx="2" fill="url(#metal-dark)"/>

              <!-- Cables/conexiones visibles -->
              <line x1="242" y1="124" x2="242" y2="140" stroke="#10B981" stroke-width="1.5" opacity="0.6"/>
              <line x1="258" y1="124" x2="258" y2="140" stroke="#10B981" stroke-width="1.5" opacity="0.6"/>
            </g>

            <!-- TORSO SUPERIOR (Pecho) -->
            <g class="animate-float" style="animation-delay: 0.2s;">
              <!-- Pecho principal - forma trapezoidal -->
              <path d="M200 145 L300 145 L310 200 Q310 220 300 230 L200 230 Q190 220 190 200 Z" fill="url(#metal-body)"/>

              <!-- Panel central del pecho -->
              <path d="M220 155 L280 155 L288 200 Q288 215 280 220 L220 220 Q212 215 212 200 Z" fill="url(#metal-light)"/>

              <!-- Núcleo de energía central (Reactor/Core) -->
              <circle cx="250" cy="185" r="25" fill="url(#metal-dark)"/>
              <circle cx="250" cy="185" r="20" fill="url(#core-glow)" filter="url(#soft-glow)" class="animate-breathe"/>
              <circle cx="250" cy="185" r="12" fill="url(#accent-green)" filter="url(#glow)"/>
              <circle cx="250" cy="185" r="6" fill="#34D399"/>
              <circle cx="250" cy="185" r="3" fill="#FFFFFF" opacity="0.9"/>

              <!-- Anillo del reactor -->
              <circle cx="250" cy="185" r="18" fill="none" stroke="#10B981" stroke-width="1.5" opacity="0.5" stroke-dasharray="4,2" class="animate-sun" style="transform-origin: 250px 185px;"/>

              <!-- Líneas de ventilación/detalle -->
              <rect x="200" y="160" width="15" height="3" rx="1" fill="url(#metal-dark)"/>
              <rect x="200" y="168" width="12" height="3" rx="1" fill="url(#metal-dark)"/>
              <rect x="200" y="176" width="15" height="3" rx="1" fill="url(#metal-dark)"/>

              <rect x="285" y="160" width="15" height="3" rx="1" fill="url(#metal-dark)"/>
              <rect x="288" y="168" width="12" height="3" rx="1" fill="url(#metal-dark)"/>
              <rect x="285" y="176" width="15" height="3" rx="1" fill="url(#metal-dark)"/>

              <!-- Luces de estado -->
              <circle cx="208" y="200" r="3" fill="#10B981" filter="url(#glow)" class="animate-firefly" style="animation-delay: 0.5s;"/>
              <circle cx="292" y="200" r="3" fill="#10B981" filter="url(#glow)" class="animate-firefly" style="animation-delay: 0.8s;"/>
            </g>

            <!-- TORSO INFERIOR (Abdomen) -->
            <g>
              <!-- Abdomen - segmentado -->
              <path d="M205 230 L295 230 L290 280 L210 280 Z" fill="url(#metal-body)"/>

              <!-- Segmentos abdominales -->
              <rect x="215" y="238" width="70" height="8" rx="2" fill="url(#metal-dark)"/>
              <rect x="218" y="252" width="64" height="8" rx="2" fill="url(#metal-light)"/>
              <rect x="215" y="266" width="70" height="8" rx="2" fill="url(#metal-dark)"/>

              <!-- Líneas de conexión -->
              <line x1="230" y1="230" x2="225" y2="280" stroke="#06B6D4" stroke-width="1" opacity="0.4"/>
              <line x1="270" y1="230" x2="275" y2="280" stroke="#06B6D4" stroke-width="1" opacity="0.4"/>
            </g>

            <!-- PELVIS/CADERA -->
            <g>
              <path d="M210 280 L290 280 L305 310 Q310 325 295 330 L205 330 Q190 325 195 310 Z" fill="url(#metal-body)"/>

              <!-- Panel central de cadera -->
              <rect x="225" y="290" width="50" height="25" rx="4" fill="url(#metal-dark)"/>
              <rect x="235" y="295" width="30" height="15" rx="3" fill="url(#metal-light)"/>

              <!-- Indicador de energía -->
              <rect x="240" y="300" width="20" height="5" rx="2" fill="url(#accent-green)" opacity="0.8"/>
            </g>

            <!-- BRAZO IZQUIERDO -->
            <g class="animate-float" style="animation-delay: 0.4s;">
              <!-- Hombro -->
              <ellipse cx="185" cy="155" rx="18" ry="15" fill="url(#metal-body)"/>
              <circle cx="185" cy="155" r="10" fill="url(#metal-dark)"/>
              <circle cx="185" cy="155" r="5" fill="url(#accent-cyan)" opacity="0.6"/>

              <!-- Brazo superior -->
              <rect x="170" y="165" width="25" height="55" rx="8" fill="url(#metal-body)"/>
              <rect x="175" y="175" width="15" height="35" rx="4" fill="url(#metal-light)"/>

              <!-- Codo -->
              <ellipse cx="182" cy="225" rx="14" ry="12" fill="url(#metal-body)"/>
              <circle cx="182" cy="225" r="7" fill="url(#metal-dark)"/>
              <circle cx="182" cy="225" r="4" fill="#06B6D4" opacity="0.5"/>

              <!-- Antebrazo -->
              <rect x="168" y="235" width="22" height="50" rx="6" fill="url(#metal-body)"/>
              <rect x="172" y="245" width="14" height="30" rx="3" fill="url(#metal-light)"/>

              <!-- Muñeca -->
              <ellipse cx="179" cy="290" rx="12" ry="8" fill="url(#metal-dark)"/>

              <!-- Mano -->
              <rect x="165" y="295" width="28" height="22" rx="5" fill="url(#metal-body)"/>
              <!-- Dedos -->
              <rect x="167" y="317" width="5" height="18" rx="2" fill="url(#metal-light)"/>
              <rect x="174" y="317" width="5" height="22" rx="2" fill="url(#metal-light)"/>
              <rect x="181" y="317" width="5" height="20" rx="2" fill="url(#metal-light)"/>
              <rect x="188" y="317" width="5" height="16" rx="2" fill="url(#metal-light)"/>
              <!-- Pulgar -->
              <rect x="160" y="302" width="6" height="14" rx="2" fill="url(#metal-light)" transform="rotate(-20 160 302)"/>

              <!-- Detalles de articulación en dedos -->
              <circle cx="169" cy="325" r="1.5" fill="url(#accent-cyan)" opacity="0.5"/>
              <circle cx="176" cy="327" r="1.5" fill="url(#accent-cyan)" opacity="0.5"/>
              <circle cx="183" cy="326" r="1.5" fill="url(#accent-cyan)" opacity="0.5"/>
            </g>

            <!-- BRAZO DERECHO -->
            <g class="animate-float" style="animation-delay: 0.6s;">
              <!-- Hombro -->
              <ellipse cx="315" cy="155" rx="18" ry="15" fill="url(#metal-body)"/>
              <circle cx="315" cy="155" r="10" fill="url(#metal-dark)"/>
              <circle cx="315" cy="155" r="5" fill="url(#accent-cyan)" opacity="0.6"/>

              <!-- Brazo superior -->
              <rect x="305" y="165" width="25" height="55" rx="8" fill="url(#metal-body)"/>
              <rect x="310" y="175" width="15" height="35" rx="4" fill="url(#metal-light)"/>

              <!-- Codo -->
              <ellipse cx="318" cy="225" rx="14" ry="12" fill="url(#metal-body)"/>
              <circle cx="318" cy="225" r="7" fill="url(#metal-dark)"/>
              <circle cx="318" cy="225" r="4" fill="#06B6D4" opacity="0.5"/>

              <!-- Antebrazo -->
              <rect x="310" y="235" width="22" height="50" rx="6" fill="url(#metal-body)"/>
              <rect x="314" y="245" width="14" height="30" rx="3" fill="url(#metal-light)"/>

              <!-- Muñeca -->
              <ellipse cx="321" cy="290" rx="12" ry="8" fill="url(#metal-dark)"/>

              <!-- Mano -->
              <rect x="307" y="295" width="28" height="22" rx="5" fill="url(#metal-body)"/>
              <!-- Dedos -->
              <rect x="309" y="317" width="5" height="16" rx="2" fill="url(#metal-light)"/>
              <rect x="316" y="317" width="5" height="20" rx="2" fill="url(#metal-light)"/>
              <rect x="323" y="317" width="5" height="22" rx="2" fill="url(#metal-light)"/>
              <rect x="330" y="317" width="5" height="18" rx="2" fill="url(#metal-light)"/>
              <!-- Pulgar -->
              <rect x="337" y="302" width="6" height="14" rx="2" fill="url(#metal-light)" transform="rotate(20 337 302)"/>

              <!-- Detalles de articulación en dedos -->
              <circle cx="311" cy="324" r="1.5" fill="url(#accent-cyan)" opacity="0.5"/>
              <circle cx="318" cy="326" r="1.5" fill="url(#accent-cyan)" opacity="0.5"/>
              <circle cx="325" cy="327" r="1.5" fill="url(#accent-cyan)" opacity="0.5"/>
            </g>

            <!-- PIERNA IZQUIERDA -->
            <g>
              <!-- Muslo -->
              <path d="M210 330 L235 330 Q240 335 238 345 L235 400 Q235 410 230 415 L215 415 Q210 410 210 400 L207 345 Q205 335 210 330 Z" fill="url(#metal-body)"/>
              <rect x="213" y="345" width="18" height="50" rx="4" fill="url(#metal-light)"/>

              <!-- Rodilla -->
              <ellipse cx="222" cy="420" rx="15" ry="12" fill="url(#metal-body)"/>
              <circle cx="222" cy="420" r="8" fill="url(#metal-dark)"/>
              <circle cx="222" cy="420" r="4" fill="url(#accent-green)" opacity="0.6"/>

              <!-- Pantorrilla -->
              <rect x="210" y="432" width="24" height="45" rx="6" fill="url(#metal-body)"/>
              <rect x="214" y="440" width="16" height="30" rx="4" fill="url(#metal-light)"/>

              <!-- Tobillo -->
              <ellipse cx="222" cy="480" rx="12" ry="6" fill="url(#metal-dark)"/>

              <!-- Pie -->
              <path d="M205 483 L240 483 L245 490 Q248 498 240 500 L200 500 Q192 498 195 490 Z" fill="url(#metal-body)"/>
              <rect x="208" y="488" width="28" height="6" rx="2" fill="url(#metal-light)"/>
            </g>

            <!-- PIERNA DERECHA -->
            <g>
              <!-- Muslo -->
              <path d="M265 330 L290 330 Q295 335 293 345 L290 400 Q290 410 285 415 L270 415 Q265 410 265 400 L262 345 Q260 335 265 330 Z" fill="url(#metal-body)"/>
              <rect x="269" y="345" width="18" height="50" rx="4" fill="url(#metal-light)"/>

              <!-- Rodilla -->
              <ellipse cx="278" cy="420" rx="15" ry="12" fill="url(#metal-body)"/>
              <circle cx="278" cy="420" r="8" fill="url(#metal-dark)"/>
              <circle cx="278" cy="420" r="4" fill="url(#accent-green)" opacity="0.6"/>

              <!-- Pantorrilla -->
              <rect x="266" y="432" width="24" height="45" rx="6" fill="url(#metal-body)"/>
              <rect x="270" y="440" width="16" height="30" rx="4" fill="url(#metal-light)"/>

              <!-- Tobillo -->
              <ellipse cx="278" cy="480" rx="12" ry="6" fill="url(#metal-dark)"/>

              <!-- Pie -->
              <path d="M260 483 L295 483 L300 490 Q303 498 295 500 L255 500 Q247 498 250 490 Z" fill="url(#metal-body)"/>
              <rect x="263" y="488" width="28" height="6" rx="2" fill="url(#metal-light)"/>
            </g>

            <!-- EFECTOS DE LUZ Y PARTÍCULAS -->
            <g filter="url(#glow)">
              <!-- Partículas de energía alrededor del robot -->
              <circle cx="150" cy="180" r="2" fill="#10B981" opacity="0.6" class="animate-firefly"/>
              <circle cx="350" cy="200" r="2" fill="#06B6D4" opacity="0.6" class="animate-firefly" style="animation-delay: 0.4s;"/>
              <circle cx="170" cy="280" r="1.5" fill="#10B981" opacity="0.5" class="animate-firefly" style="animation-delay: 0.7s;"/>
              <circle cx="330" cy="300" r="1.5" fill="#06B6D4" opacity="0.5" class="animate-firefly" style="animation-delay: 1s;"/>
              <circle cx="140" cy="350" r="2" fill="#10B981" opacity="0.5" class="animate-firefly" style="animation-delay: 0.3s;"/>
              <circle cx="360" cy="380" r="2" fill="#06B6D4" opacity="0.5" class="animate-firefly" style="animation-delay: 0.6s;"/>
              <circle cx="200" cy="100" r="1.5" fill="#FFD700" opacity="0.4" class="animate-firefly" style="animation-delay: 0.9s;"/>
              <circle cx="300" cy="120" r="1.5" fill="#FFD700" opacity="0.4" class="animate-firefly" style="animation-delay: 1.2s;"/>
            </g>

            <!-- Líneas de conexión de energía sutiles -->
            <g opacity="0.3">
              <path d="M250 210 Q200 250 182 290" stroke="url(#accent-green)" stroke-width="1" fill="none" stroke-dasharray="3,3" class="animate-breathe"/>
              <path d="M250 210 Q300 250 318 290" stroke="url(#accent-green)" stroke-width="1" fill="none" stroke-dasharray="3,3" class="animate-breathe" style="animation-delay: 0.5s;"/>
            </g>

            <!-- ═══════════════════════════════════════════════════════════
                 VEGETACIÓN SOLARPUNK - Naturaleza integrada al robot
                 ═══════════════════════════════════════════════════════════ -->

            <!-- Hojas en hombro izquierdo -->
            <g class="animate-sway" style="animation-delay: 0.2s;">
              <ellipse cx="175" cy="148" rx="6" ry="3" fill="#10B981" opacity="0.85" transform="rotate(-30 175 148)"/>
              <ellipse cx="180" cy="143" rx="5" ry="2.5" fill="#34D399" opacity="0.8" transform="rotate(-45 180 143)"/>
              <ellipse cx="172" cy="152" rx="4" ry="2" fill="#059669" opacity="0.75" transform="rotate(-15 172 152)"/>
            </g>

            <!-- Hojas en hombro derecho -->
            <g class="animate-sway" style="animation-delay: 0.5s;">
              <ellipse cx="325" cy="148" rx="6" ry="3" fill="#10B981" opacity="0.85" transform="rotate(30 325 148)"/>
              <ellipse cx="320" cy="143" rx="5" ry="2.5" fill="#34D399" opacity="0.8" transform="rotate(45 320 143)"/>
              <ellipse cx="328" cy="152" rx="4" ry="2" fill="#059669" opacity="0.75" transform="rotate(15 328 152)"/>
            </g>

            <!-- Brote pequeño en hombro derecho (planta creciendo) -->
            <g class="animate-float" style="animation-delay: 0.8s;">
              <!-- Tallo -->
              <path d="M322 145 Q325 138 323 130" stroke="#059669" stroke-width="1.5" fill="none" stroke-linecap="round"/>
              <!-- Hojas del brote -->
              <ellipse cx="320" cy="132" rx="5" ry="3" fill="#34D399" opacity="0.9" transform="rotate(-40 320 132)"/>
              <ellipse cx="326" cy="133" rx="5" ry="3" fill="#10B981" opacity="0.85" transform="rotate(35 326 133)"/>
              <!-- Punta del brote -->
              <ellipse cx="323" cy="128" rx="2" ry="3" fill="#6EE7B7" opacity="0.9"/>
            </g>

            <!-- Enredadera en brazo izquierdo -->
            <g class="animate-sway" style="animation-delay: 0.3s;">
              <!-- Tallo principal de la enredadera -->
              <path d="M178 170 Q172 190 175 210 Q178 230 174 250 Q170 270 175 285"
                    stroke="#059669" stroke-width="1.2" fill="none" stroke-linecap="round" opacity="0.7"/>
              <!-- Hojas a lo largo de la enredadera -->
              <ellipse cx="174" cy="185" rx="4" ry="2" fill="#10B981" opacity="0.8" transform="rotate(-25 174 185)"/>
              <ellipse cx="176" cy="215" rx="3.5" ry="2" fill="#34D399" opacity="0.75" transform="rotate(20 176 215)"/>
              <ellipse cx="172" cy="245" rx="4" ry="2" fill="#10B981" opacity="0.8" transform="rotate(-30 172 245)"/>
              <ellipse cx="175" cy="275" rx="3" ry="1.5" fill="#059669" opacity="0.7" transform="rotate(15 175 275)"/>
            </g>

            <!-- Musgo en codo izquierdo -->
            <g opacity="0.5">
              <ellipse cx="180" cy="228" rx="5" ry="3" fill="#4A7C59"/>
              <ellipse cx="184" cy="226" rx="3" ry="2" fill="#2D5A3D"/>
              <ellipse cx="178" cy="230" rx="4" ry="2" fill="#4A7C59"/>
            </g>

            <!-- Musgo en codo derecho -->
            <g opacity="0.5">
              <ellipse cx="320" cy="228" rx="5" ry="3" fill="#4A7C59"/>
              <ellipse cx="316" cy="226" rx="3" ry="2" fill="#2D5A3D"/>
              <ellipse cx="322" cy="230" rx="4" ry="2" fill="#4A7C59"/>
            </g>

            <!-- Musgo en rodilla izquierda -->
            <g opacity="0.45">
              <ellipse cx="220" cy="423" rx="4" ry="2.5" fill="#4A7C59"/>
              <ellipse cx="224" cy="421" rx="3" ry="1.5" fill="#2D5A3D"/>
            </g>

            <!-- Musgo en rodilla derecha -->
            <g opacity="0.45">
              <ellipse cx="280" cy="423" rx="4" ry="2.5" fill="#4A7C59"/>
              <ellipse cx="276" cy="421" rx="3" ry="1.5" fill="#2D5A3D"/>
            </g>

            <!-- Pequeñas hojas flotando cerca del robot -->
            <g class="animate-float" opacity="0.6">
              <ellipse cx="145" cy="200" rx="4" ry="2" fill="#10B981" transform="rotate(-20 145 200)"/>
              <ellipse cx="355" cy="250" rx="3.5" ry="1.8" fill="#34D399" transform="rotate(25 355 250)"/>
              <ellipse cx="160" cy="380" rx="3" ry="1.5" fill="#10B981" transform="rotate(-35 160 380)"/>
            </g>
          </svg>

          <!-- Cards flotantes con iconos tech -->
          <div class="absolute -top-4 -right-4 w-20 h-20 glass-warm rounded-2xl animate-float flex items-center justify-center shadow-lg" style="animation-delay: 0.3s;">
            <svg class="w-10 h-10 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
            </svg>
          </div>

          <div class="absolute bottom-8 -left-4 w-16 h-16 glass-warm rounded-xl animate-float flex items-center justify-center shadow-lg" style="animation-delay: 1.2s;">
            <svg class="w-8 h-8 text-accent-cyan" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" />
            </svg>
          </div>

          <div class="absolute top-1/3 -left-8 w-14 h-14 glass-warm rounded-xl animate-float flex items-center justify-center shadow-lg" style="animation-delay: 0.8s;">
            <svg class="w-7 h-7 text-solar-gold" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M13 10V3L4 14h7v7l9-11h-7z" />
            </svg>
          </div>

        </div>
      </div>
    </div>

    <!-- Indicador de scroll - como una semilla cayendo -->
    <div class="absolute bottom-8 left-1/2 -translate-x-1/2 hidden md:block">
      <a href="#services" class="group flex flex-col items-center gap-2 text-text-dim hover:text-primary transition-colors">
        <span class="text-sm font-medium opacity-60 group-hover:opacity-100 transition-opacity">Descubre más</span>
        <div class="w-6 h-10 rounded-full border-2 border-current flex items-start justify-center p-1">
          <div class="w-1.5 h-1.5 bg-current rounded-full animate-bounce"></div>
        </div>
      </a>
    </div>
  </div>
</section>

<script>
  // Robot head follows mouse after 0.5s idle
  let mouseTimeout: ReturnType<typeof setTimeout>;
  let lastMouseX = 0;
  let lastMouseY = 0;

  const robotHead = document.getElementById('robot-head');
  const robotSvg = document.getElementById('robot-svg');

  if (robotHead && robotSvg) {
    // Centro de la cabeza en el viewBox
    const headCenterX = 250;
    const headCenterY = 72;

    document.addEventListener('mousemove', (e) => {
      lastMouseX = e.clientX;
      lastMouseY = e.clientY;

      // Resetear timeout
      clearTimeout(mouseTimeout);

      // Después de 0.5s quieto, mover la cabeza
      mouseTimeout = setTimeout(() => {
        const rect = robotSvg.getBoundingClientRect();

        // Solo actuar si el mouse está cerca del robot
        const mouseXRel = lastMouseX - rect.left;
        const mouseYRel = lastMouseY - rect.top;

        // Convertir a coordenadas del viewBox
        const scaleX = 500 / rect.width;
        const scaleY = 500 / rect.height;
        const mouseVBX = mouseXRel * scaleX;
        const mouseVBY = mouseYRel * scaleY;

        // Calcular rotación (limitado a ±15° horizontal, ±10° vertical)
        const deltaX = mouseVBX - headCenterX;
        const deltaY = mouseVBY - headCenterY;

        const rotateY = Math.max(-15, Math.min(15, deltaX * 0.05));
        const rotateX = Math.max(-10, Math.min(10, deltaY * 0.03));

        // Aplicar transformación suave
        robotHead.style.transition = 'transform 0.3s ease-out';
        robotHead.style.transform = `rotate(${rotateY * 0.5}deg) translateX(${rotateY * 0.3}px) translateY(${rotateX * 0.2}px)`;
      }, 500);
    });

    // Resetear cuando el mouse sale de la ventana
    document.addEventListener('mouseleave', () => {
      clearTimeout(mouseTimeout);
      robotHead.style.transition = 'transform 0.5s ease-out';
      robotHead.style.transform = 'rotate(0deg) translateX(0) translateY(0)';
    });
  }
</script>
